<% if @recipe.public || @user != @recipe.user %>
  <h2><%= @recipe.name %></h2>
  <div>
    <p>Preparation time: <%= @recipe.preparation_time %></p>
    <p>Cooking time: <%= @recipe.cooking_time %></p>
    <p><%= @recipe.description %></p>

    <%= form_for @recipe, url: toggle_public_recipe_path(@recipe), method: :patch do |f| %>
	    <%= f.check_box :public, {}, 'true', 'false' %>
	    <%= f.submit 'Toggle Public Status' %>
    <% end %>
  </div>
<% end %>

<% if @user == @recipe.user %>
  <%= link_to "Add New Food", new_food_path(@recipe) %>
<% end %>

<button data-toggle="modal" data-target="#inventory">Create Shopping List</button>

<%= render partial: 'recipe_foods/recipe_food', collection: @recipe.foods, as: :food %>


<div>
  <%# link_to "Edit this recipe", edit_recipe_path(@recipe) %>
  <%= link_to "Back to recipes", recipes_path %>

  <%= button_to "Destroy this recipe", @recipe, method: :delete if @user = @recipe.user %>
</div>
